<!--

    Copyright 2007-2014    
    Ubiquitous Knowledge Processing (UKP) Lab
    Technische UniversitÃ¤t Darmstadt

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

-->
<project basedir="../.." default="separate-jars">
    <property name="outputPackage" value="de/tudarmstadt/ukp/dkpro/core/sfst/lib"/>
    
    <import>
        <url url="http://dkpro-core-asl.googlecode.com/svn/built-ant-macros/tags/0.6.0/ant-macros.xml"/>
    </import>
    
    <target name="local-maven">
        <property name="install-artifact-enable" value="true"/>
        <antcall target="separate-jars"/>
    </target>
    
	<target name="remote-maven">
		<property name="install-artifact-mode" value="remote"/>
		<antcall target="separate-jars"/>
	</target>

    <target name="separate-jars" depends="de, it, tr, install-executables"/>

    <target name="de">
	    <mkdir dir="target/download"/>
		<!-- FILE: morphisto-02022011.a - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
		  - 2011-02-02 | now        | 9d85be57380188890156b7fa49b5c122
		  -->
	    <get 
	    	src="http://morphisto.googlecode.com/files/morphisto-02022011.a" 
	    	dest="target/download/morphisto-02022011.a" 
	    	skipexisting="true"/>
    	<install-stub-and-upstream-file 
            file="target/download/morphisto-02022011.a" 
	    	md5="9d85be57380188890156b7fa49b5c122"
	    	groupId="de.tudarmstadt.ukp.dkpro.core" 
	    	artifactIdBase="de.tudarmstadt.ukp.dkpro.core.sfst"
    		upstreamVersion="20110202"
    		metaDataVersion="1"
            tool="morph" 
	    	language="de" 
	    	variant="default" 
    		extension="a">
		</install-stub-and-upstream-file>
    </target>

    <target name="it">
	    <mkdir dir="target/download"/>
		<!-- FILE: morph-it_automata.tgz - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
		  - 2009-02-23 | now        | 6a75a3ca1c244361a89a955df272654d
		  -->
	    <get 
	    	src="http://sslmitdev-online.sslmit.unibo.it/linguistics/downloads/morph-it_automata.tgz" 
	    	dest="target/download/morph-it_automata.tgz" 
	    	skipexisting="true"/>
		<gunzip 
			src="target/download/morph-it_automata.tgz"
			dest="target/download/morph-it_automata.tar"/>
		<untar 
			src="target/download/morph-it_automata.tar"
			dest="target/download"/>
    	<install-stub-and-upstream-file 
            file="target/download/morph-it_automata_048/pippi-automaton_048.a" 
	    	md5="6a75a3ca1c244361a89a955df272654d"
	    	groupId="de.tudarmstadt.ukp.dkpro.core" 
	    	artifactIdBase="de.tudarmstadt.ukp.dkpro.core.sfst"
    		upstreamVersion="20090223"
    		metaDataVersion="1"
            tool="morph" 
	    	language="it" 
	    	variant="default" 
    		extension="a">
		</install-stub-and-upstream-file>
    </target>

    <target name="tr">
        <mkdir dir="target/download"/>
		<!-- FILE: trmorph.a - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
		  - 2012-10-25 | now        | f16db56fb0203ede5c134938e7bdfca0
		  -->
        <get 
        	src="http://dkpro-core-gpl.googlecode.com/files/trmorph.a" 
        	dest="target/download/trmorph.a" 
        	skipexisting="true"/>
    	<install-stub-and-upstream-file 
            file="target/download/trmorph.a" 
        	md5="f16db56fb0203ede5c134938e7bdfca0"
        	groupId="de.tudarmstadt.ukp.dkpro.core" 
        	artifactIdBase="de.tudarmstadt.ukp.dkpro.core.sfst"
    		upstreamVersion="20121025"
    		metaDataVersion="1"
            tool="morph" 
        	language="tr" 
        	variant="default" 
    		extension="a">
		</install-stub-and-upstream-file>
    </target>
    
    <target name="install-executables">        	       	
        <mkdir dir="target/download"/>
    	<get 
    		src="http://dkpro-core-gpl.googlecode.com/files/sfst-1.4.6g-bin.tar.gz" 
    		dest="target/download" 
    		skipexisting="true"/>
    	<gunzip src="target/download/sfst-1.4.6g-bin.tar.gz"/>
    	<untar src="target/download/sfst-1.4.6g-bin.tar" dest="target/download"/>
    	<delete file="target/download/sfst-1.4.6g-bin.tar"/>   	
    	<mkdir dir="target/model-staging/de/tudarmstadt/ukp/dkpro/core/sfst/bin"/>
    	<copydir 
    		src="target/download/sfst/" 
    		dest="target/model-staging/de/tudarmstadt/ukp/dkpro/core/sfst/bin" includes="**/*"/>
        <clean-pom/>
        <generate-pom version="20120111.1" groupId="de.tudarmstadt.ukp.dkpro.core" 
                artifactId="de.tudarmstadt.ukp.dkpro.core.sfst-bin"/>
        <jar destfile="target/de.tudarmstadt.ukp.dkpro.core.sfst-bin-20120111.1.jar" compress="true">
            <fileset dir="target/model-staging/">
        	   <include name="de/tudarmstadt/ukp/dkpro/core/sfst/bin/**/"/>
        	   <include name="META-INF/maven/**/pom.xml"/>
            </fileset>
        </jar>	
        <delete dir="target/model-staging"/>   
   </target>
</project>